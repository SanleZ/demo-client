(this["webpackJsonptest-frontend"]=this["webpackJsonptest-frontend"]||[]).push([[0],{144:function(e,t,n){},263:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),s=n(29),i=n.n(s),o=n(285),u=n(12),d=n(115),l=n(10),j=n(109),b=n(116),h=(n(144),n(287)),p=n(282),O=n(3),f=function(){return Object(O.jsx)(h.a,{position:"absolute",width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",display:"flex",children:Object(O.jsx)(p.a,{})})},y=n(35),x=n(14),g=n(2),m=n(24),v=n(38),w=n(18),k="authApi",C=Object(v.a)({reducerPath:k,baseQuery:Object(w.d)({baseUrl:"https://tp-auth.herokuapp.com"}),endpoints:function(e){return{getAccessToken:e.query({query:function(e){return{url:"github/access_token",method:"POST",body:{code:e}}}})}}}),S=n(74),q=n.n(S),T=n(110),D=n.n(T),I=n(36),Q=n(111),z=n(112),A=n.n(z),E=n(113),L=n.n(E),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=L()(t);return Object(I.a)({response:e},n)},B=A.a.create({baseURL:"https://aapi.github.com",headers:{accept:"application/vnd.github.v3+json"}}),P="githubApi",R=Object(v.a)({reducerPath:P,baseQuery:function(){var e=Object(Q.a)(q.a.mark((function e(t,n){var r,a,c,s,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,e.prev=1,a=r().authSlice.accessToken,e.next=5,B(Object(I.a)(Object(I.a)({},t),{},{headers:Object(I.a)(Object(I.a)({},D()(t.headers,["user-agent"])),{},{Authorization:"Bearer ".concat(a)})}));case 5:return c=e.sent,e.abrupt("return",{data:W(c.data,c.headers.link)});case 9:return e.prev=9,e.t0=e.catch(1),o=e.t0,e.abrupt("return",{error:{status:null===(s=o.response)||void 0===s?void 0:s.status,data:null===(i=o.response)||void 0===i?void 0:i.data}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),endpoints:function(){return{}},refetchOnMountOrArgChange:60}),U=n(114),F=n.n(U),G=Object(g.d)({name:"authSlice",initialState:{},reducers:{updateAccessToken:function(e,t){e.accessToken=t.payload}}}),J=Object(m.g)({key:"rtk:auth",storage:F.a,whitelist:["accessToken"]},G.reducer),M="resetState",K=Object(g.b)(M,(function(){return{payload:null}})),N=function(e){var t=e.dispatch;return function(e){return function(n){return Object(g.l)(n)&&401===n.payload.status&&t(K()),e(n)}}},V="main",Y=Object(v.a)({reducerPath:V,baseQuery:Object(w.d)({baseUrl:"/"}),endpoints:function(e){return{getQueryList:e.query({query:function(){return{url:"query",method:"GET"}}}),sendQuery:e.query({query:function(e){return{url:"query",method:"POST",body:e}}})}}}),$=(r={},Object(y.a)(r,G.name,J),Object(y.a)(r,k,C.reducer),Object(y.a)(r,P,R.reducer),Object(y.a)(r,V,Y.reducer),r),_=Object(x.b)($),H=Object(g.a)({reducer:function(e,t){return t.type===M&&(e={}),_(e,t)},middleware:function(e){return e({serializableCheck:{ignoredActions:[m.a,m.f,m.b,m.c,m.d,m.e]}}).concat([N,C.middleware,R.middleware,Y.middleware])}}),X=Object(m.h)(H),Z=(u.e,n(283)),ee=n(288),te=n(289),ne=n(292),re=n(284),ae=n(56),ce=n(291),se=n.p+"static/media/robots.9f535814.svg",ie=function(e){var t=e.messageBody,n=e.key,r="myWorker"===t.role;return Object(O.jsxs)(Z.a,{container:!0,wrap:"nowrap",spacing:2,style:{margin:10},children:[Object(O.jsx)(Z.a,{item:!0,style:{marginTop:"auto"},children:Object(O.jsx)(ce.a,{src:r?se:"",style:{border:"1px solid #CDD2D6"},children:t.role?t.role.charAt(0):"U"})}),Object(O.jsx)(Z.a,{item:!0,xs:10,style:{paddingTop:15},children:Object(O.jsx)(re.a,{noWrap:!1,style:{fontWeight:r?400:600},children:Object(O.jsx)("pre",{style:{whiteSpace:"pre-wrap",fontFamily:"sans-serif",margin:0},children:t.content.trim()})})})]},n)},oe=function(){var e=Object(a.useRef)(null),t=Object(a.useState)(""),n=Object(ae.a)(t,2),r=n[0],c=n[1],s=Y.useLazyGetQueryListQuery(),i=Object(ae.a)(s,2),o=i[0],u=i[1].data,d=Y.useLazySendQueryQuery(),l=Object(ae.a)(d,2),j=l[0],b=l[1],p=b.isFetching,f=b.isSuccess;Object(a.useEffect)((function(){o(null)}),[o]),Object(a.useEffect)((function(){u&&e.current&&e.current.scrollIntoView()}),[u]);var y=Object(a.useCallback)((function(e){c(e.target.value)}),[]),x=Object(a.useCallback)((function(){r&&j({query:r})}),[r,j]),g=Object(a.useCallback)((function(e){"Enter"===e.code&&e.target.value&&j({query:e.target.value})}),[j]);return Object(a.useEffect)((function(){!p&&f&&(c(""),o(null))}),[o,p,f]),Object(O.jsx)(h.a,{maxWidth:"60vw",height:"100vh",alignItems:"center",justifyContent:"center",display:"flex",style:{margin:"0 auto",backgroundColor:"white"},children:Object(O.jsxs)(Z.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",xs:12,style:{position:"relative",height:"100%"},children:[Object(O.jsx)(Z.a,{item:!0,xs:12,style:{position:"absolute",backgroundColor:"white",width:"100%",top:"0",zIndex:2,padding:10,paddingLeft:30,borderBottom:"1px solid #CDD2D6"},children:Object(O.jsx)(re.a,{style:{fontSize:33},children:"New Chat"})}),Object(O.jsx)("div",{ref:e,style:{padding:"100px 0",overflowY:"auto"},children:u?u.messages.map((function(e,t){return Object(O.jsx)(ie,{messageBody:e},"q-".concat(t))})):null}),Object(O.jsx)(Z.a,{item:!0,xs:12,style:{position:"absolute",backgroundColor:"white",width:"100%",bottom:"0",zIndex:2,padding:10,height:70,paddingLeft:50,borderTop:"1px solid #CDD2D6"},children:Object(O.jsxs)(Z.a,{container:!0,xs:12,children:[Object(O.jsx)(Z.a,{item:!0,xs:12,style:{position:"absolute",top:0,zIndex:3,left:0,height:10,width:"100%"},children:p&&Object(O.jsx)(ne.a,{})}),Object(O.jsx)(Z.a,{item:!0,xs:10,children:Object(O.jsx)(te.a,{fullWidth:!0,placeholder:"Start type here",onChange:y,value:r,onKeyPress:g})}),Object(O.jsx)(Z.a,{item:!0,xs:2,children:Object(O.jsx)(ee.a,{variant:"text",style:{color:"#3597DE"},disabled:p,onClick:x,children:"Send"})})]})})]})})},ue=function(){return Object(O.jsx)(Z.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(O.jsx)(Z.a,{xs:12,children:Object(O.jsx)(oe,{})})})},de=function(){return Object(O.jsx)(u.a,{store:H,children:Object(O.jsx)(j.a,{loading:Object(O.jsx)(f,{}),persistor:X,children:Object(O.jsx)(d.a,{children:Object(O.jsxs)(b.a,{ReactRouterRoute:l.a,children:[Object(O.jsx)(o.a,{}),Object(O.jsx)(ue,{})]})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(de,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[263,1,2]]]);
//# sourceMappingURL=main.37df306c.chunk.js.map